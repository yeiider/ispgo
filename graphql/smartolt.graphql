
# --------------- SmartOLT types ---------------

type SmartOltOlt {
    id: ID!
    name: String
    olt_hardware_version: String
    ip: String
    telnet_port: String
    snmp_port: String
}

type SmartOltOltCard {
    slot: String
    type: String
    real_type: String
    ports: String
    software_version: String
    status: String
    role: String
    info_updated: String
}

type SmartOltPonPort {
    board: String
    pon_port: String
    pon_type: String
    admin_status: String
    operational_status: String
    description: String
    min_range: String
    max_range: String
    tx_power: String
    onus_count: Int
    online_onus_count: String
    average_signal: Float
}

type SmartOltZone {
    id: ID!
    name: String
    imported_date: String
    imported_from_olt: String
}

type SmartOltOdb {
    id: ID!
    name: String
    nr_of_ports: String
    latitude: String
    longitude: String
    imported_date: String
    imported_from_olt: String
    zone_id: String
    zone_name: String
}

type SmartOltSpeedProfile {
    id: ID!
    name: String
    speed: String
    direction: String
    type: String
}

type SmartOltOnu {
    sn: String
    board: String
    port: String
    onu: String
    name: String
    onu_type_name: String
    zone_id: String
    odb_id: String
    mode: String
    signal: String
    status: String
    online_status: String
}

type SmartOltUptime {
    olt_id: ID!
    olt_name: String
    uptime: String
    env_temp: String
}

extend type Query {
    smartOltOlts: [SmartOltOlt!]! @field(resolver: "App\\GraphQL\\Queries\\SmartOltQuery@getOlts")
    smartOltOltCards(olt_id: ID!): [SmartOltOltCard!]! @field(resolver: "App\\GraphQL\\Queries\\SmartOltQuery@getOltCards")
    smartOltOltPonPorts(olt_id: ID!): [SmartOltPonPort!]! @field(resolver: "App\\GraphQL\\Queries\\SmartOltQuery@getOltPonPorts")
    smartOltZones: [SmartOltZone!]! @field(resolver: "App\\GraphQL\\Queries\\SmartOltQuery@getZones")
    smartOltOdbs(zone_id: ID!): [SmartOltOdb!]! @field(resolver: "App\\GraphQL\\Queries\\SmartOltQuery@getOdbs")
    smartOltSpeedProfiles: [SmartOltSpeedProfile!]! @field(resolver: "App\\GraphQL\\Queries\\SmartOltQuery@getSpeedProfiles")
    smartOltUnconfiguredOnus(olt_id: ID!): [SmartOltOnu!]! @field(resolver: "App\\GraphQL\\Queries\\SmartOltQuery@getUnconfiguredOnus")
    smartOltOltsUptime: [SmartOltUptime!]! @field(resolver: "App\\GraphQL\\Queries\\SmartOltQuery@getOltsUptime")
}

extend type Mutation {
    authorizeOnu(
        olt_id: ID!
        pon_type: String!
        board: String!
        port: String!
        sn: String!
        vlan: Int!
        onu_mode: String!
        onu_type: String!
        zone_id: ID!
        odb_id: ID
        name: String!
        address: String
        contact: String
        speed_profile_id: ID!
    ): ActionResult @field(resolver: "App\\GraphQL\\Mutations\\SmartOltMutation@authorizeOnu")

    smartOltRebootOnu(external_id: String!): ActionResult @field(resolver: "App\\GraphQL\\Mutations\\SmartOltMutation@rebootOnu")
    smartOltEnableOnu(sn: String!): ActionResult @field(resolver: "App\\GraphQL\\Mutations\\SmartOltMutation@enableOnu")
    smartOltDisableOnu(sn: String!): ActionResult @field(resolver: "App\\GraphQL\\Mutations\\SmartOltMutation@disableOnu")
}
