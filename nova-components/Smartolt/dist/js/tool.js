/*! For license information please see tool.js.LICENSE.txt */
(()=>{"use strict";var e,t={132:(e,t,r)=>{const n=Vue;var o={key:0,class:"flex justify-center items-center p-4"},a={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4"},l={key:2,class:"p-4"},i=[(0,n.createElementVNode)("p",{class:"text-center"},"No ONU information available for this service.",-1)],s={key:3},c={class:"border-t border-gray-200 px-6 py-4"},u={class:"flex border-b"};var d={class:"px-6 py-4"},p=(0,n.createElementVNode)("h3",{class:"text-xl font-bold mb-4"},"ONU Details",-1),f={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},m=(0,n.createElementVNode)("span",{class:"font-bold"},"Serial Number:",-1),y=(0,n.createElementVNode)("span",{class:"font-bold"},"Status:",-1),h=(0,n.createElementVNode)("span",{class:"font-bold"},"Type:",-1),g={key:0},b=(0,n.createElementVNode)("span",{class:"font-bold"},"Vendor ID:",-1),v={key:1},x=(0,n.createElementVNode)("span",{class:"font-bold"},"HW Version:",-1),N={key:2},E=(0,n.createElementVNode)("span",{class:"font-bold"},"Detected ONU type:",-1),k=(0,n.createElementVNode)("span",{class:"font-bold"},"Board:",-1),S={key:0},V=(0,n.createElementVNode)("span",{class:"font-bold"},"Admin State:",-1),w={key:1},O=(0,n.createElementVNode)("span",{class:"font-bold"},"Phase State:",-1),B={key:2},C=(0,n.createElementVNode)("span",{class:"font-bold"},"Distance:",-1),T={key:3},D=(0,n.createElementVNode)("span",{class:"font-bold"},"Online Duration:",-1),A={key:4},F=(0,n.createElementVNode)("span",{class:"font-bold"},"Description:",-1);const G={props:{onuDetails:{type:Object,required:!0},onuFullStatus:{type:Object,required:!0}}};var I=r(262);const j=(0,I.A)(G,[["render",function(e,t,r,o,a,l){var i,s,c,u,G,I,j,P;return(0,n.openBlock)(),(0,n.createElementBlock)("div",d,[p,(0,n.createElementVNode)("div",f,[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("p",null,[m,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuDetails.sn),1)]),(0,n.createElementVNode)("p",null,[y,(0,n.createElementVNode)("span",{class:(0,n.normalizeClass)("online"===r.onuDetails.status?"text-green-500":"text-red-500")},(0,n.toDisplayString)(r.onuDetails.status),3)]),(0,n.createElementVNode)("p",null,[h,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuDetails.type),1)]),null!==(i=r.onuFullStatus)&&void 0!==i&&null!==(i=i.details)&&void 0!==i&&i["Vendor ID"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",g,[b,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.details["Vendor ID"]),1)])):(0,n.createCommentVNode)("",!0),null!==(s=r.onuFullStatus)&&void 0!==s&&null!==(s=s.details)&&void 0!==s&&s["HW Version"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",v,[x,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.details["HW Version"]),1)])):(0,n.createCommentVNode)("",!0),null!==(c=r.onuFullStatus)&&void 0!==c&&null!==(c=c.details)&&void 0!==c&&c["Detected ONU type"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",N,[E,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.details["Detected ONU type"]),1)])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("p",null,[k,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuDetails.board),1)]),null!==(u=r.onuFullStatus)&&void 0!==u&&null!==(u=u.details)&&void 0!==u&&u["Admin state"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",S,[V,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.details["Admin state"]),1)])):(0,n.createCommentVNode)("",!0),null!==(G=r.onuFullStatus)&&void 0!==G&&null!==(G=G.details)&&void 0!==G&&G["Phase state"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",w,[O,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.details["Phase state"]),1)])):(0,n.createCommentVNode)("",!0),null!==(I=r.onuFullStatus)&&void 0!==I&&null!==(I=I.details)&&void 0!==I&&I["ONU Distance"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",B,[C,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.details["ONU Distance"]),1)])):(0,n.createCommentVNode)("",!0),null!==(j=r.onuFullStatus)&&void 0!==j&&null!==(j=j.details)&&void 0!==j&&j["Online Duration"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",T,[D,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.details["Online Duration"]),1)])):(0,n.createCommentVNode)("",!0),null!==(P=r.onuFullStatus)&&void 0!==P&&null!==(P=P.details)&&void 0!==P&&P.Description?((0,n.openBlock)(),(0,n.createElementBlock)("p",A,[F,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.details.Description),1)])):(0,n.createCommentVNode)("",!0)])])])}]]);var P={class:"py-4"},U={key:0,class:"flex justify-center items-center p-4"},L={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4"},R={key:2},_={class:"mb-6"},M=(0,n.createElementVNode)("h4",{class:"text-lg font-bold mb-2"},"Optical Status",-1),$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q=(0,n.createElementVNode)("span",{class:"font-bold"},"ONU Rx Power:",-1),H=(0,n.createElementVNode)("span",{class:"font-bold"},"ONU Tx Power:",-1),z={key:0},K=(0,n.createElementVNode)("span",{class:"font-bold"},"OLT Rx Power:",-1),W={key:1},Y=(0,n.createElementVNode)("span",{class:"font-bold"},"OLT Tx Power:",-1),J={key:0},Q=(0,n.createElementVNode)("span",{class:"font-bold"},"Upstream Attenuation (1310nm):",-1),X={key:1},Z=(0,n.createElementVNode)("span",{class:"font-bold"},"Downstream Attenuation (1490nm):",-1),ee={key:0,class:"mb-6"},te=(0,n.createElementVNode)("h4",{class:"text-lg font-bold mb-2"},"CATV Status",-1),re={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ne={key:0},oe=(0,n.createElementVNode)("span",{class:"font-bold"},"Admin Status:",-1),ae={key:1},le=(0,n.createElementVNode)("span",{class:"font-bold"},"State:",-1),ie={key:0},se=(0,n.createElementVNode)("span",{class:"font-bold"},"1550nm Rx:",-1),ce={key:1},ue=(0,n.createElementVNode)("span",{class:"font-bold"},"RF Output:",-1),de={class:"mt-6"},pe=(0,n.createElementVNode)("h4",{class:"text-lg font-bold mb-2"},"Signal Graph",-1),fe={class:"border border-gray-200 rounded-md overflow-hidden"},me=["src"],ye={key:1,class:"h-64 bg-gray-100 flex items-center justify-center"};const he={props:{onuStatus:{type:Object,required:!0},onuFullStatus:{type:Object,required:!0},loading:{type:Boolean,default:!1},error:{type:String,default:null},signalGraphUrl:{type:String,default:null}},methods:{fetchSignalGraph:function(){this.$emit("fetch-signal-graph")}}},ge=(0,I.A)(he,[["render",function(e,t,r,o,a,l){var i,s,c,u,d,p,f,m=(0,n.resolveComponent)("Loader");return(0,n.openBlock)(),(0,n.createElementBlock)("div",P,[r.loading?((0,n.openBlock)(),(0,n.createElementBlock)("div",U,[(0,n.createVNode)(m,{class:"text-60"})])):r.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",L,[(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(r.error),1)])):((0,n.openBlock)(),(0,n.createElementBlock)("div",R,[(0,n.createElementVNode)("div",_,[M,(0,n.createElementVNode)("div",$,[(0,n.createElementVNode)("div",null,[(0,n.createElementVNode)("p",null,[q,(0,n.createTextVNode)(" "+(0,n.toDisplayString)((null===(i=r.onuStatus)||void 0===i?void 0:i.rx_power)||"N/A")+" dBm",1)]),(0,n.createElementVNode)("p",null,[H,(0,n.createTextVNode)(" "+(0,n.toDisplayString)((null===(s=r.onuStatus)||void 0===s?void 0:s.tx_power)||"N/A")+" dBm",1)]),null!==(c=r.onuFullStatus)&&void 0!==c&&null!==(c=c.optical)&&void 0!==c&&c["OLT Rx"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",z,[K,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.optical["OLT Rx"]),1)])):(0,n.createCommentVNode)("",!0),null!==(u=r.onuFullStatus)&&void 0!==u&&null!==(u=u.optical)&&void 0!==u&&u["OLT Tx"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",W,[Y,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.optical["OLT Tx"]),1)])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",null,[null!==(d=r.onuFullStatus)&&void 0!==d&&null!==(d=d.optical)&&void 0!==d&&d["1310nm Attenuation"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",J,[Q,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.optical["1310nm Attenuation"]),1)])):(0,n.createCommentVNode)("",!0),null!==(p=r.onuFullStatus)&&void 0!==p&&null!==(p=p.optical)&&void 0!==p&&p["1490nm Attenuation"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",X,[Z,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus.optical["1490nm Attenuation"]),1)])):(0,n.createCommentVNode)("",!0)])])]),null!==(f=r.onuFullStatus)&&void 0!==f&&f["ONU CATV port"]?((0,n.openBlock)(),(0,n.createElementBlock)("div",ee,[te,(0,n.createElementVNode)("div",re,[(0,n.createElementVNode)("div",null,[r.onuFullStatus["ONU CATV port"]["Admin status"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",ne,[oe,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus["ONU CATV port"]["Admin status"]),1)])):(0,n.createCommentVNode)("",!0),r.onuFullStatus["ONU CATV port"].State?((0,n.openBlock)(),(0,n.createElementBlock)("p",ae,[le,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus["ONU CATV port"].State),1)])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",null,[r.onuFullStatus["ONU CATV port"]["1550nm Rx"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",ie,[se,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus["ONU CATV port"]["1550nm Rx"]),1)])):(0,n.createCommentVNode)("",!0),r.onuFullStatus["ONU CATV port"]["RF output"]?((0,n.openBlock)(),(0,n.createElementBlock)("p",ce,[ue,(0,n.createTextVNode)(" "+(0,n.toDisplayString)(r.onuFullStatus["ONU CATV port"]["RF output"]),1)])):(0,n.createCommentVNode)("",!0)])])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",de,[pe,(0,n.createElementVNode)("div",fe,[r.signalGraphUrl?((0,n.openBlock)(),(0,n.createElementBlock)("img",{key:0,src:r.signalGraphUrl,alt:"Signal Graph",class:"max-w-full h-auto",style:{"max-height":"400px","object-fit":"contain"}},null,8,me)):((0,n.openBlock)(),(0,n.createElementBlock)("div",ye,[(0,n.createElementVNode)("button",{onClick:t[0]||(t[0]=function(){return l.fetchSignalGraph&&l.fetchSignalGraph.apply(l,arguments)}),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Load Signal Graph ")]))])])]))])}]]);var be={class:"py-4"},ve={key:0,class:"flex justify-center items-center p-4"},xe={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4"},Ne={key:2},Ee={class:"mb-4"},ke=(0,n.createElementVNode)("span",{class:"font-bold"},"Download:",-1),Se=(0,n.createElementVNode)("span",{class:"font-bold"},"Upload:",-1),Ve={class:"mb-4 flex items-center"},we=(0,n.createElementVNode)("label",{for:"graph-type",class:"mr-2 font-bold"},"Time Period:",-1),Oe=[(0,n.createStaticVNode)('<option value="hourly">Hourly</option><option value="daily">Daily</option><option value="weekly">Weekly</option><option value="monthly">Monthly</option><option value="yearly">Yearly</option>',5)],Be={key:0,class:"ml-4"},Ce={class:"border border-gray-200 rounded-md overflow-hidden"},Te=["src"],De={key:1,class:"h-64 bg-gray-100 flex items-center justify-center"},Ae=[(0,n.createElementVNode)("p",{class:"text-gray-500"},"No traffic graph available",-1)];const Fe={props:{onuStatus:{type:Object,required:!0},loading:{type:Boolean,default:!1},error:{type:String,default:null},trafficGraphUrl:{type:String,default:null},trafficGraphKey:{type:Number,default:0},selectedGraphType:{type:String,default:"hourly"},autoRefreshEnabled:{type:Boolean,default:!1}},data:function(){return{localGraphType:this.selectedGraphType}},watch:{selectedGraphType:function(e){this.localGraphType=e}},methods:{onGraphTypeChange:function(){this.$emit("graph-type-change",this.localGraphType)},startAutoRefresh:function(){this.$emit("start-auto-refresh")},stopAutoRefresh:function(){this.$emit("stop-auto-refresh")}}},Ge=(0,I.A)(Fe,[["render",function(e,t,r,o,a,l){var i,s,c=(0,n.resolveComponent)("Loader");return(0,n.openBlock)(),(0,n.createElementBlock)("div",be,[r.loading?((0,n.openBlock)(),(0,n.createElementBlock)("div",ve,[(0,n.createVNode)(c,{class:"text-60"})])):r.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",xe,[(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(r.error),1)])):((0,n.openBlock)(),(0,n.createElementBlock)("div",Ne,[(0,n.createElementVNode)("div",Ee,[(0,n.createElementVNode)("p",null,[ke,(0,n.createTextVNode)(" "+(0,n.toDisplayString)((null===(i=r.onuStatus)||void 0===i?void 0:i.download)||"N/A")+" Mbps",1)]),(0,n.createElementVNode)("p",null,[Se,(0,n.createTextVNode)(" "+(0,n.toDisplayString)((null===(s=r.onuStatus)||void 0===s?void 0:s.upload)||"N/A")+" Mbps",1)])]),(0,n.createElementVNode)("div",Ve,[we,(0,n.withDirectives)((0,n.createElementVNode)("select",{id:"graph-type","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.localGraphType=e}),class:"form-select rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",onChange:t[1]||(t[1]=function(){return l.onGraphTypeChange&&l.onGraphTypeChange.apply(l,arguments)})},Oe,544),[[n.vModelSelect,a.localGraphType]]),"hourly"===a.localGraphType?((0,n.openBlock)(),(0,n.createElementBlock)("div",Be,[r.autoRefreshEnabled?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:t[3]||(t[3]=function(){return l.stopAutoRefresh&&l.stopAutoRefresh.apply(l,arguments)}),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-3 rounded text-sm"}," Stop Refresh ")):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:t[2]||(t[2]=function(){return l.startAutoRefresh&&l.startAutoRefresh.apply(l,arguments)}),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-3 rounded text-sm"}," Auto Refresh "))])):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",Ce,[r.trafficGraphUrl?((0,n.openBlock)(),(0,n.createElementBlock)("img",{src:r.trafficGraphUrl,alt:"Traffic Graph",class:"max-w-full h-auto",style:{"max-height":"400px","object-fit":"contain"},key:r.trafficGraphKey},null,8,Te)):((0,n.openBlock)(),(0,n.createElementBlock)("div",De,Ae))])]))])}]]);var Ie={class:"py-4"},je={key:0,class:"flex justify-center items-center p-4"},Pe={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4"},Ue={key:2},Le={key:0,class:"mb-6"},Re=(0,n.createElementVNode)("h4",{class:"text-lg font-bold mb-2"},"LAN Interfaces",-1),_e={class:"overflow-x-auto"},Me={class:"min-w-full bg-white border border-gray-200"},$e=(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Port"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Speed"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Admin State"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Max Frame Size")])],-1),qe={class:"py-2 px-4 border-b border-gray-200"},He={class:"py-2 px-4 border-b border-gray-200"},ze={class:"py-2 px-4 border-b border-gray-200"},Ke={class:"py-2 px-4 border-b border-gray-200"},We={key:1,class:"mb-6"},Ye=(0,n.createElementVNode)("h4",{class:"text-lg font-bold mb-2"},"VLAN Configuration",-1),Je={class:"overflow-x-auto"},Qe={class:"min-w-full bg-white border border-gray-200"},Xe=(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Interface"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Mode"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"VLAN ID"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Default Priority"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"VLAN List")])],-1),Ze={class:"py-2 px-4 border-b border-gray-200"},et={class:"py-2 px-4 border-b border-gray-200"},tt={class:"py-2 px-4 border-b border-gray-200"},rt={class:"py-2 px-4 border-b border-gray-200"},nt={class:"py-2 px-4 border-b border-gray-200"},ot={key:2,class:"mb-6"},at=(0,n.createElementVNode)("h4",{class:"text-lg font-bold mb-2"},"MAC Addresses",-1),lt={class:"overflow-x-auto"},it={class:"min-w-full bg-white border border-gray-200"},st=(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"MAC Address"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"VLAN"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Port")])],-1),ct={class:"py-2 px-4 border-b border-gray-200"},ut={class:"py-2 px-4 border-b border-gray-200"},dt={class:"py-2 px-4 border-b border-gray-200"},pt={class:"py-2 px-4 border-b border-gray-200"},ft={class:"mb-4"},mt=(0,n.createElementVNode)("span",{class:"font-bold"},"Speed Profile:",-1),yt=(0,n.createElementVNode)("span",{class:"font-bold"},"VLAN ID:",-1),ht=(0,n.createElementVNode)("span",{class:"font-bold"},"WAN Mode:",-1);const gt={props:{onuFullStatus:{type:Object,required:!0},onuConfig:{type:Object,required:!0},loading:{type:Boolean,default:!1},error:{type:String,default:null}}},bt=(0,I.A)(gt,[["render",function(e,t,r,o,a,l){var i,s,c,u,d,p,f=(0,n.resolveComponent)("Loader");return(0,n.openBlock)(),(0,n.createElementBlock)("div",Ie,[r.loading?((0,n.openBlock)(),(0,n.createElementBlock)("div",je,[(0,n.createVNode)(f,{class:"text-60"})])):r.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",Pe,[(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(r.error),1)])):((0,n.openBlock)(),(0,n.createElementBlock)("div",Ue,[null!==(i=r.onuFullStatus)&&void 0!==i&&null!==(i=i.config)&&void 0!==i&&i.interfaces?((0,n.openBlock)(),(0,n.createElementBlock)("div",Le,[Re,(0,n.createElementVNode)("div",_e,[(0,n.createElementVNode)("table",Me,[$e,(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.onuFullStatus.config.interfaces,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:t},[(0,n.createElementVNode)("td",qe,(0,n.toDisplayString)(t),1),(0,n.createElementVNode)("td",He,(0,n.toDisplayString)(e.Speed),1),(0,n.createElementVNode)("td",ze,(0,n.toDisplayString)(e["Admin state"]),1),(0,n.createElementVNode)("td",Ke,(0,n.toDisplayString)(e["Max-frame size"]),1)])})),128))])])])])):(0,n.createCommentVNode)("",!0),null!==(s=r.onuFullStatus)&&void 0!==s&&null!==(s=s.config)&&void 0!==s&&s.vlan?((0,n.openBlock)(),(0,n.createElementBlock)("div",We,[Ye,(0,n.createElementVNode)("div",Je,[(0,n.createElementVNode)("table",Qe,[Xe,(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.onuFullStatus.config.vlan,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:t},[(0,n.createElementVNode)("td",Ze,(0,n.toDisplayString)(t),1),(0,n.createElementVNode)("td",et,(0,n.toDisplayString)(e.Mode),1),(0,n.createElementVNode)("td",tt,(0,n.toDisplayString)(e["VLAN-ID"]),1),(0,n.createElementVNode)("td",rt,(0,n.toDisplayString)(e["Def-Prio"]),1),(0,n.createElementVNode)("td",nt,(0,n.toDisplayString)(e["Vlan-list"]),1)])})),128))])])])])):(0,n.createCommentVNode)("",!0),null!==(c=r.onuFullStatus)&&void 0!==c&&null!==(c=c.interfaces)&&void 0!==c&&c.macs?((0,n.openBlock)(),(0,n.createElementBlock)("div",ot,[at,(0,n.createElementVNode)("div",lt,[(0,n.createElementVNode)("table",it,[st,(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(r.onuFullStatus.interfaces.macs,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:t},[(0,n.createElementVNode)("td",ct,(0,n.toDisplayString)(e["MAC address"]),1),(0,n.createElementVNode)("td",ut,(0,n.toDisplayString)(e.Vlan),1),(0,n.createElementVNode)("td",dt,(0,n.toDisplayString)(e.Type),1),(0,n.createElementVNode)("td",pt,(0,n.toDisplayString)(e.Port),1)])})),128))])])])])):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",ft,[(0,n.createElementVNode)("p",null,[mt,(0,n.createTextVNode)(" "+(0,n.toDisplayString)((null===(u=r.onuConfig)||void 0===u?void 0:u.speed_profile)||"N/A"),1)]),(0,n.createElementVNode)("p",null,[yt,(0,n.createTextVNode)(" "+(0,n.toDisplayString)((null===(d=r.onuConfig)||void 0===d?void 0:d.vlan_id)||"N/A"),1)]),(0,n.createElementVNode)("p",null,[ht,(0,n.createTextVNode)(" "+(0,n.toDisplayString)((null===(p=r.onuConfig)||void 0===p?void 0:p.wan_mode)||"N/A"),1)])])]))])}]]);var vt={class:"py-4"},xt={key:0,class:"flex justify-center items-center p-4"},Nt={key:1,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4"},Et={key:2,class:"p-4"},kt=[(0,n.createElementVNode)("p",{class:"text-center"},"No history information available for this ONU.",-1)],St={key:3},Vt=(0,n.createElementVNode)("h4",{class:"text-lg font-bold mb-2"},"Connection History",-1),wt={class:"overflow-x-auto"},Ot={class:"min-w-full bg-white border border-gray-200"},Bt=(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"#"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Auth Time"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Offline Time"),(0,n.createElementVNode)("th",{class:"py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cause")])],-1),Ct={class:"py-2 px-4 border-b border-gray-200"},Tt={class:"py-2 px-4 border-b border-gray-200"},Dt={class:"py-2 px-4 border-b border-gray-200"};function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){It(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function It(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=At(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=At(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==At(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,l,i=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ut={props:{onuFullStatus:{type:Object,required:!0},loading:{type:Boolean,default:!1},error:{type:String,default:null}},computed:{sortedHistory:function(){var e;return null!==(e=this.onuFullStatus)&&void 0!==e&&e.history?Object.entries(this.onuFullStatus.history).map((function(e){var t=jt(e,2),r=t[0],n=t[1],o=n.Cause&&n.Cause.includes("currently online");return Gt(Gt({},n),{},{isOnline:o,key:r})})).sort((function(e,t){return parseInt(e.key)-parseInt(t.key)})):[]}},methods:{getCauseClass:function(e){return e?e.includes("currently online")?"text-green-600 font-semibold":e.includes("Power Fail")?"text-yellow-600":e.includes("Signal Loss")?"text-red-600":"text-gray-600":""}}},Lt=(0,I.A)(Ut,[["render",function(e,t,r,o,a,l){var i,s=(0,n.resolveComponent)("Loader");return(0,n.openBlock)(),(0,n.createElementBlock)("div",vt,[r.loading?((0,n.openBlock)(),(0,n.createElementBlock)("div",xt,[(0,n.createVNode)(s,{class:"text-60"})])):r.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",Nt,[(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(r.error),1)])):null!==(i=r.onuFullStatus)&&void 0!==i&&i.history&&0!==Object.keys(r.onuFullStatus.history).length?((0,n.openBlock)(),(0,n.createElementBlock)("div",St,[Vt,(0,n.createElementVNode)("div",wt,[(0,n.createElementVNode)("table",Ot,[Bt,(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.sortedHistory,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",{key:t,class:(0,n.normalizeClass)(e.isOnline?"bg-green-50":"")},[(0,n.createElementVNode)("td",Ct,(0,n.toDisplayString)(t),1),(0,n.createElementVNode)("td",Tt,(0,n.toDisplayString)(e["Auth at"]),1),(0,n.createElementVNode)("td",Dt,(0,n.toDisplayString)(e["Offline at"]||"Currently Online"),1),(0,n.createElementVNode)("td",{class:(0,n.normalizeClass)(["py-2 px-4 border-b border-gray-200",l.getCauseClass(e.Cause)])},(0,n.toDisplayString)(e.Cause),3)],2)})),128))])])])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",Et,kt))])}]]);var Rt={class:"border-t border-gray-200 px-6 py-4"},_t=(0,n.createElementVNode)("h3",{class:"text-xl font-bold mb-4"},"Actions",-1),Mt={class:"flex flex-wrap gap-2"},$t=["disabled"],qt=["disabled"],Ht=["disabled"],zt=["disabled"];const Kt={props:{onuDetails:{type:Object,required:!0},actionInProgress:{type:Boolean,default:!1}},methods:{rebootOnu:function(){this.$emit("reboot")},resetOnu:function(){this.$emit("reset")},enableOnu:function(){this.$emit("enable")},disableOnu:function(){this.$emit("disable")}}};function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Yt(){Yt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,l=Object.create(a.prototype),i=new T(n||[]);return o(l,"_invoke",{value:w(e,r,i)}),l}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",y="completed",h={};function g(){}function b(){}function v(){}var x={};c(x,l,(function(){return this}));var N=Object.getPrototypeOf,E=N&&N(N(D([])));E&&E!==r&&n.call(E,l)&&(x=E);var k=v.prototype=g.prototype=Object.create(x);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function r(o,a,l,i){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Wt(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,l,i)}),(function(e){r("throw",e,l,i)})):t.resolve(u).then((function(e){c.value=e,l(c)}),(function(e){return r("throw",e,l,i)}))}i(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function w(t,r,n){var o=p;return function(a,l){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===a)throw l;return{value:e,done:!0}}for(n.method=a,n.arg=l;;){var i=n.delegate;if(i){var s=O(i,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?y:f,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=y,n.method="throw",n.arg=c.arg)}}}function O(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var l=a.arg;return l?l.done?(r[t.resultName]=l.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):l:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function D(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Wt(t)+" is not iterable")}return b.prototype=v,o(k,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:b,configurable:!0}),b.displayName=c(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},S(V.prototype),c(V.prototype,i,(function(){return this})),t.AsyncIterator=V,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var l=new V(u(e,r,n,o),a);return t.isGeneratorFunction(r)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},S(k),c(k,s,"Generator"),c(k,l,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return i.type="throw",i.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a],i=l.completion;if("root"===l.tryLoc)return o("end");if(l.tryLoc<=this.prev){var s=n.call(l,"catchLoc"),c=n.call(l,"finallyLoc");if(s&&c){if(this.prev<l.catchLoc)return o(l.catchLoc,!0);if(this.prev<l.finallyLoc)return o(l.finallyLoc)}else if(s){if(this.prev<l.catchLoc)return o(l.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return o(l.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function Jt(e,t,r,n,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}function Qt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function l(e){Jt(a,n,o,l,i,"next",e)}function i(e){Jt(a,n,o,l,i,"throw",e)}l(void 0)}))}}const Xt={components:{OnuDetails:j,OnuSignalTab:ge,OnuTrafficTab:Ge,OnuConfigTab:bt,OnuHistoryTab:Lt,OnuActions:(0,I.A)(Kt,[["render",function(e,t,r,o,a,l){return(0,n.openBlock)(),(0,n.createElementBlock)("div",Rt,[_t,(0,n.createElementVNode)("div",Mt,[(0,n.createElementVNode)("button",{onClick:t[0]||(t[0]=function(){return l.rebootOnu&&l.rebootOnu.apply(l,arguments)}),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",disabled:r.actionInProgress}," Reboot ",8,$t),(0,n.createElementVNode)("button",{onClick:t[1]||(t[1]=function(){return l.resetOnu&&l.resetOnu.apply(l,arguments)}),class:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded",disabled:r.actionInProgress}," Reiniciar Onu ",8,qt),"online"===r.onuDetails.status?((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:0,onClick:t[2]||(t[2]=function(){return l.disableOnu&&l.disableOnu.apply(l,arguments)}),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",disabled:r.actionInProgress}," Disable ",8,Ht)):((0,n.openBlock)(),(0,n.createElementBlock)("button",{key:1,onClick:t[3]||(t[3]=function(){return l.enableOnu&&l.enableOnu.apply(l,arguments)}),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",disabled:r.actionInProgress}," Enable ",8,zt))])])}]])},props:{resourceId:{type:String,required:!1}},data:function(){return{loading:!0,error:null,onuDetails:null,onuStatus:null,onuConfig:null,onuFullStatus:null,activeTab:"signal",loadingSignal:!1,loadingTraffic:!1,loadingConfig:!1,signalError:null,trafficError:null,configError:null,actionInProgress:!1,selectedGraphType:"hourly",trafficGraphUrl:null,trafficGraphKey:0,autoRefreshEnabled:!1,refreshInterval:null,signalGraphUrl:null,lastTrafficGraphCall:0,lastSignalGraphCall:0,lastStatusCall:0,minApiCallInterval:1e3}},watch:{activeTab:function(e,t){"traffic"!==e||this.trafficGraphUrl&&"traffic"===t?"signal"!==e||this.signalGraphUrl||this.fetchSignalGraph():this.fetchTrafficGraph(),"traffic"===t&&this.autoRefreshEnabled&&this.stopAutoRefresh()}},mounted:function(){var e=this;this.fetchOnuDetails(),this.$nextTick((function(){e.resourceId&&"signal"===e.activeTab&&e.fetchSignalGraph()}))},beforeUnmount:function(){this.stopAutoRefresh()},methods:{fetchOnuDetails:function(){var e=this;return Qt(Yt().mark((function t(){var r,n,o,a,l,i,s,c,u;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Date.now(),!((n=r-e.lastStatusCall)<e.minApiCallInterval)){t.next=6;break}return o=e.minApiCallInterval-n,t.next=6,new Promise((function(e){return setTimeout(e,o)}));case 6:return e.loading=!0,e.error=null,e.loadingSignal=!0,e.signalError=null,e.loadingConfig=!0,e.configError=null,t.prev=12,e.lastStatusCall=Date.now(),t.next=16,Nova.request().get("/nova-vendor/smartolt/onu/".concat(e.resourceId,"/status"));case 16:a=t.sent,e.onuFullStatus=a.data,e.onuFullStatus.details&&(e.onuDetails={sn:e.onuFullStatus.details["Serial number"]||"",status:"enable"===(null===(l=e.onuFullStatus.details["ONU Status"])||void 0===l?void 0:l.toLowerCase())?"online":"offline",type:e.onuFullStatus.details.Type||"",board:e.onuFullStatus.details["Current channel"]||"",port:"",onu:""}),e.onuFullStatus.optical&&(e.onuStatus={rx_power:(null===(i=e.onuFullStatus.optical["ONU Rx"])||void 0===i?void 0:i.replace("(dbm)",""))||"N/A",tx_power:(null===(s=e.onuFullStatus.optical["ONU Tx"])||void 0===s?void 0:s.replace("(dbm)",""))||"N/A",download:"N/A",upload:"N/A"}),e.onuFullStatus.config&&(e.onuConfig={speed_profile:"N/A",vlan_id:e.onuFullStatus.config.vlan&&(null===(c=Object.values(e.onuFullStatus.config.vlan)[0])||void 0===c?void 0:c["VLAN-ID"])||"N/A",wan_mode:"N/A"}),t.next=28;break;case 23:t.prev=23,t.t0=t.catch(12),e.error=(null===(u=t.t0.response)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.message)||"Failed to load ONU information",e.signalError=e.error,e.configError=e.error;case 28:return t.prev=28,e.loading=!1,e.loadingSignal=!1,e.loadingConfig=!1,t.finish(28);case 33:case"end":return t.stop()}}),t,null,[[12,23,28,33]])})))()},rebootOnu:function(){var e=this;return Qt(Yt().mark((function t(){var r;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.actionInProgress){t.next=2;break}return t.abrupt("return");case 2:return e.actionInProgress=!0,t.prev=3,t.next=6,Nova.request().post("/nova-vendor/smartolt/onu/".concat(e.resourceId,"/reboot"));case 6:e.$toasted.show("ONU reboot initiated successfully",{type:"success"}),setTimeout((function(){e.fetchOnuDetails()}),5e3),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e.$toasted.show((null===(r=t.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||"Failed to reboot ONU",{type:"error"});case 13:return t.prev=13,e.actionInProgress=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,10,13,16]])})))()},resetOnu:function(){var e=this;return Qt(Yt().mark((function t(){var r;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.actionInProgress){t.next=2;break}return t.abrupt("return");case 2:if(confirm("Are you sure you want to reset this ONU to factory defaults?")){t.next=4;break}return t.abrupt("return");case 4:return e.actionInProgress=!0,t.prev=5,t.next=8,Nova.request().post("/nova-vendor/smartolt/onu/".concat(e.resourceId,"/factory-reset"));case 8:e.$toasted.show("ONU factory reset initiated successfully",{type:"success"}),setTimeout((function(){e.fetchOnuDetails()}),5e3),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e.$toasted.show((null===(r=t.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||"Failed to reset ONU",{type:"error"});case 15:return t.prev=15,e.actionInProgress=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[5,12,15,18]])})))()},enableOnu:function(){var e=this;return Qt(Yt().mark((function t(){var r;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.actionInProgress){t.next=2;break}return t.abrupt("return");case 2:return e.actionInProgress=!0,t.prev=3,t.next=6,Nova.request().post("/nova-vendor/smartolt/onu/".concat(e.resourceId,"/enable"));case 6:e.$toasted.show("ONU enabled successfully",{type:"success"}),setTimeout((function(){e.fetchOnuDetails()}),3e3),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e.$toasted.show((null===(r=t.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||"Failed to enable ONU",{type:"error"});case 13:return t.prev=13,e.actionInProgress=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,10,13,16]])})))()},disableOnu:function(){var e=this;return Qt(Yt().mark((function t(){var r;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.actionInProgress){t.next=2;break}return t.abrupt("return");case 2:if(confirm("Are you sure you want to disable this ONU?")){t.next=4;break}return t.abrupt("return");case 4:return e.actionInProgress=!0,t.prev=5,t.next=8,Nova.request().post("/nova-vendor/smartolt/onu/".concat(e.resourceId,"/disable"));case 8:e.$toasted.show("ONU disabled successfully",{type:"success"}),setTimeout((function(){e.fetchOnuDetails()}),3e3),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e.$toasted.show((null===(r=t.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||"Failed to disable ONU",{type:"error"});case 15:return t.prev=15,e.actionInProgress=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[5,12,15,18]])})))()},onGraphTypeChange:function(e){this.selectedGraphType=e,this.fetchTrafficGraph()},fetchTrafficGraph:function(){var e=this;return Qt(Yt().mark((function t(){var r,n,o,a;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Date.now(),!((n=r-e.lastTrafficGraphCall)<e.minApiCallInterval)){t.next=9;break}if(!e.autoRefreshEnabled){t.next=6;break}return console.log("Skipping traffic graph refresh due to throttling"),t.abrupt("return");case 6:return o=e.minApiCallInterval-n,t.next=9,new Promise((function(e){return setTimeout(e,o)}));case 9:e.loadingTraffic=!0,e.trafficError=null;try{e.lastTrafficGraphCall=Date.now(),e.trafficGraphKey++,e.trafficGraphUrl="/nova-vendor/smartolt/onu/".concat(e.resourceId,"/traffic-graph/").concat(e.selectedGraphType,"?t=").concat(Date.now()),e.autoRefreshEnabled&&"hourly"!==e.selectedGraphType&&e.stopAutoRefresh()}catch(t){e.trafficError=(null===(a=t.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||"Failed to load traffic graph",e.trafficGraphUrl=null}finally{e.loadingTraffic=!1}case 12:case"end":return t.stop()}}),t)})))()},startAutoRefresh:function(){var e=this;this.refreshInterval&&clearInterval(this.refreshInterval),this.autoRefreshEnabled=!0,this.refreshInterval=setInterval((function(){e.fetchTrafficGraph()}),5e3)},stopAutoRefresh:function(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null),this.autoRefreshEnabled=!1},fetchSignalGraph:function(){var e=this;return Qt(Yt().mark((function t(){var r,n,o,a;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Date.now(),!((n=r-e.lastSignalGraphCall)<e.minApiCallInterval)){t.next=6;break}return o=e.minApiCallInterval-n,t.next=6,new Promise((function(e){return setTimeout(e,o)}));case 6:e.loadingSignal=!0,e.signalError=null;try{e.lastSignalGraphCall=Date.now(),e.signalGraphUrl="/nova-vendor/smartolt/onu/".concat(e.resourceId,"/signal-graph?t=").concat(Date.now())}catch(t){e.signalError=(null===(a=t.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||"Failed to load signal graph",e.signalGraphUrl=null}finally{e.loadingSignal=!1}case 9:case"end":return t.stop()}}),t)})))()}}},Zt={props:{resourceId:{type:String,required:!1}},components:{Board:(0,I.A)(Xt,[["render",function(e,t,r,d,p,f){var m=(0,n.resolveComponent)("Loader"),y=(0,n.resolveComponent)("OnuDetails"),h=(0,n.resolveComponent)("OnuSignalTab"),g=(0,n.resolveComponent)("OnuTrafficTab"),b=(0,n.resolveComponent)("OnuConfigTab"),v=(0,n.resolveComponent)("OnuHistoryTab"),x=(0,n.resolveComponent)("OnuActions"),N=(0,n.resolveComponent)("Card");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(N,{class:"mb-6"},{default:(0,n.withCtx)((function(){return[p.loading?((0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createVNode)(m,{class:"text-60"})])):p.error?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(p.error),1)])):p.onuDetails?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[(0,n.createVNode)(y,{onuDetails:p.onuDetails,onuFullStatus:p.onuFullStatus},null,8,["onuDetails","onuFullStatus"]),(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("button",{onClick:t[0]||(t[0]=function(e){return p.activeTab="signal"}),class:(0,n.normalizeClass)(["py-2 px-4 focus:outline-none","signal"===p.activeTab?"border-b-2 border-primary-500 font-bold":""])}," Signal ",2),(0,n.createElementVNode)("button",{onClick:t[1]||(t[1]=function(e){return p.activeTab="traffic"}),class:(0,n.normalizeClass)(["py-2 px-4 focus:outline-none","traffic"===p.activeTab?"border-b-2 border-primary-500 font-bold":""])}," Traffic ",2),(0,n.createElementVNode)("button",{onClick:t[2]||(t[2]=function(e){return p.activeTab="config"}),class:(0,n.normalizeClass)(["py-2 px-4 focus:outline-none","config"===p.activeTab?"border-b-2 border-primary-500 font-bold":""])}," Configuration ",2),(0,n.createElementVNode)("button",{onClick:t[3]||(t[3]=function(e){return p.activeTab="history"}),class:(0,n.normalizeClass)(["py-2 px-4 focus:outline-none","history"===p.activeTab?"border-b-2 border-primary-500 font-bold":""])}," History ",2)]),"signal"===p.activeTab?((0,n.openBlock)(),(0,n.createBlock)(h,{key:0,onuStatus:p.onuStatus,onuFullStatus:p.onuFullStatus,loading:p.loadingSignal,error:p.signalError,signalGraphUrl:p.signalGraphUrl,onFetchSignalGraph:f.fetchSignalGraph},null,8,["onuStatus","onuFullStatus","loading","error","signalGraphUrl","onFetchSignalGraph"])):(0,n.createCommentVNode)("",!0),"traffic"===p.activeTab?((0,n.openBlock)(),(0,n.createBlock)(g,{key:1,onuStatus:p.onuStatus,loading:p.loadingTraffic,error:p.trafficError,trafficGraphUrl:p.trafficGraphUrl,trafficGraphKey:p.trafficGraphKey,selectedGraphType:p.selectedGraphType,autoRefreshEnabled:p.autoRefreshEnabled,onGraphTypeChange:f.onGraphTypeChange,onStartAutoRefresh:f.startAutoRefresh,onStopAutoRefresh:f.stopAutoRefresh},null,8,["onuStatus","loading","error","trafficGraphUrl","trafficGraphKey","selectedGraphType","autoRefreshEnabled","onGraphTypeChange","onStartAutoRefresh","onStopAutoRefresh"])):(0,n.createCommentVNode)("",!0),"config"===p.activeTab?((0,n.openBlock)(),(0,n.createBlock)(b,{key:2,onuFullStatus:p.onuFullStatus,onuConfig:p.onuConfig,loading:p.loadingConfig,error:p.configError},null,8,["onuFullStatus","onuConfig","loading","error"])):(0,n.createCommentVNode)("",!0),"history"===p.activeTab?((0,n.openBlock)(),(0,n.createBlock)(v,{key:3,onuFullStatus:p.onuFullStatus,loading:p.loading,error:p.error},null,8,["onuFullStatus","loading","error"])):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)(x,{onuDetails:p.onuDetails,actionInProgress:p.actionInProgress,onReboot:f.rebootOnu,onReset:f.resetOnu,onEnable:f.enableOnu,onDisable:f.disableOnu},null,8,["onuDetails","actionInProgress","onReboot","onReset","onEnable","onDisable"])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",l,i))]})),_:1})])}]])},mounted:function(){console.log("Component mounted."),console.log(this.resourceId)}};var er=r(72),tr=r.n(er),rr=r(579),nr={insert:"head",singleton:!1};tr()(rr.A,nr);rr.A.locals;const or=(0,I.A)(Zt,[["render",function(e,t,r,o,a,l){var i=(0,n.resolveComponent)("Head"),s=(0,n.resolveComponent)("Board");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createVNode)(i,{title:"Smartolt"}),(0,n.createVNode)(s,{resourceId:r.resourceId},null,8,["resourceId"])])}]]);Nova.booting((function(e,t){Nova.inertia("Smartolt",or)}))},579:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(314),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,"",""]);const a=o},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var i=0;i<e.length;i++){var s=[].concat(e[i]);n&&o[s[0]]||(r&&(s[2]?s[2]="".concat(r," and ").concat(s[2]):s[2]=r),t.push(s))}},t}},351:()=>{},72:(e,t,r)=>{var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),l=[];function i(e){for(var t=-1,r=0;r<l.length;r++)if(l[r].identifier===e){t=r;break}return t}function s(e,t){for(var r={},n=[],o=0;o<e.length;o++){var a=e[o],s=t.base?a[0]+t.base:a[0],c=r[s]||0,u="".concat(s," ").concat(c);r[s]=c+1;var d=i(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(l[d].references++,l[d].updater(p)):l.push({identifier:u,updater:h(p,t),references:1}),n.push(u)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var l=a(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var a=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(a,l[t]):e.appendChild(a)}}function f(e,t,r){var n=r.css,o=r.media,a=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var m=null,y=0;function h(e,t){var r,n,o;if(t.singleton){var a=y++;r=m||(m=c(t)),n=p.bind(null,r,a,!1),o=p.bind(null,r,a,!0)}else r=c(t),n=f.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var r=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=i(r[n]);l[o].references--}for(var a=s(e,t),c=0;c<r.length;c++){var u=i(r[c]);0===l[u].references&&(l[u].updater(),l.splice(u,1))}r=a}}}},262:(e,t)=>{t.A=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={id:e,exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,o,a)=>{if(!r){var l=1/0;for(u=0;u<e.length;u++){for(var[r,o,a]=e[u],i=!0,s=0;s<r.length;s++)(!1&a||l>=a)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={416:0,757:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[l,i,s]=r,c=0;if(l.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(s)var u=s(n)}for(t&&t(r);c<l.length;c++)a=l[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self.webpackChunkispgo_smartolt=self.webpackChunkispgo_smartolt||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,n.O(void 0,[757],(()=>n(132)));var o=n.O(void 0,[757],(()=>n(351)));o=n.O(o)})();